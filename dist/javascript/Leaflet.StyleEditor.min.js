var leafletstyleeditor=function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UtilOptions=class{};class o{constructor(t,e){this.map=t,this.options=e}static createInstance(t,e){o.instance=new o(t,e)}static getInstance(){return o.instance}fireEvent(t,e){this.map.fireEvent(this.options.styleEditorEventPrefix+t,e)}fireChangeEvent(t){this.fireEvent("changed",t)}hideElement(t){t&&L.DomUtil.addClass(t,"leaflet-styleeditor-hidden")}rgbToHex(t,e=!1){if(t||0!==(t=this.options.defaultColor).indexOf("#")&&(t="#"+t),0===t.indexOf("#"))return e&&t.replace("#",""),t;if(t.indexOf("(")<0)return"#"+t;let i=t.substring(4).replace(")","").split(","),o=this._componentToHex(parseInt(i[0],10))+this._componentToHex(parseInt(i[1],10))+this._componentToHex(parseInt(i[2],10));return e?o:"#"+o}getCurrentElement(){}setCurrentElement(t){}getStyle(t,e){let i=t.options[e];return i||null}setStyle(t,e,i){if(t instanceof L.Marker);else{let o={};o[e]=i,t.setStyle(o)}this.fireChangeEvent(t)}showElement(t){t&&L.DomUtil.removeClass(t,"leaflet-styleeditor-hidden")}_componentToHex(t){let e=t.toString(16);return 1===e.length?"0"+e:e}getMarkersForColor(t){t=this.rgbToHex(t);let e=[],i=[];if(Array.isArray(e)||(e=Object.keys(e).includes(t)?e[t]:e.default),null!==i){if(!Array.isArray(i)){let o=Object.keys(i);i=o.includes(t)?i[t]:o.includes("default")?i.default:e}return e.filter(t=>i.includes(t))}return e}getDefaultMarkerForColor(t){t=this.rgbToHex(t);let e=this.getMarkersForColor(t),i=[],o=void 0;return null!==o&&("string"==typeof o&&i.push(o),Object.keys(o).includes(t)&&i.push(o[t])),o=void 0,void 0!==o&&("string"==typeof o&&i.push(o),Object.keys(o).includes(t)&&i.push(o[t])),i.filter(t=>e.includes(t)),i.length>0?i[0]:e[0]}}e.Util=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(8);e.DefaultStyleEditorControlOptions=o.DefaultStyleEditorControlOptions;const s=i(9);e.DefaultStyleEditorClassOptions=s.DefaultStyleEditorClassOptions;const r=i(14);e.DefaultStyleEditorOptions=r.DefaultStyleEditorOptions},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(7),s=i(0),r=i(1);class l extends L.Class{constructor(t,e){super(),this.map=t,this.options=Object.assign(Object.assign({},r.DefaultStyleEditorOptions),e),s.Util.createInstance(t,this.options),this.createUi()}createUi(){const t=this.editorUI=L.DomUtil.create("div","leaflet-styleeditor",this.map.getContainer()),e=L.DomUtil.create("div","leaflet-styleeditor-header",t),i=L.DomUtil.create("div","leaflet-styleeditor-interior",t),s=L.DomUtil.create("button","leaflet-styleeditor-button styleeditor-hideBtn",e);s.title=this.options.strings.hide;const r=this.tooltipUI=L.DomUtil.create("div","leaflet-styleeditor-tooltip-wrapper",this.map.getContainer());L.DomUtil.create("div","leaflet-styleeditor-tooltip",r).innerHTML=this.options.strings.tooltip,L.DomEvent.disableScrollPropagation(t),L.DomEvent.disableScrollPropagation(s),L.DomEvent.disableClickPropagation(t),L.DomEvent.disableClickPropagation(s),L.DomEvent.on(s,"click",this.onNext,this),this.addEventListeners(this.map),new o.StyleForm(this.map,t,i,this.options.markerForm,this.options.geometryForm)}addEventListeners(t){this.options.events.forEach(e=>t.on(e,this.onEvent))}onEvent(t){}onNext(t){this.hideEditor(),this.showTooltip(),t.stopPropagation()}removeIndicators(){const t=this.map.getPanes().markerPane.children;for(let e=0;e<t.length;e++){const i=t[e];L.DomUtil.removeClass(i,"leaflet-styleeditor-marker-selected")}}addEditClickEvents(t){this.layerIsIgnored(t)||this.options.useGrouping&&t instanceof L.LayerGroup||t instanceof L.Marker||L.Path}layerIsIgnored(t){return void 0!==t&&this.options.ignoreLayerTypes.some(e=>t.styleEditor&&t.styleEditor.type.toUpperCase()===e.toUpperCase())}hideEditor(){L.DomUtil.removeClass(this.editorUI,"editor-enabled"),this.removeIndicators(),this.fireEvent("hidden")}showEditor(){L.DomUtil.addClass(this.editorUI,"editor-enabled"),this.fireEvent("visible")}showTooltip(){L.DomUtil.removeClass(this.tooltipUI,"leaflet-styleeditor-hidden")}hideTooltip(){L.DomUtil.addClass(this.tooltipUI,"leaflet-styleeditor-hidden")}fireEvent(t){}enable(){this.showTooltip(),this.showEditor()}disable(){this.hideTooltip(),this.hideEditor()}}e.StyleEditorClass=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(10);e.Form=o.Form;const s=i(11);e.MarkerForm=s.MarkerForm},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(0);e.FormElement=class{constructor(t,e,i,s){this.util=o.Util.getInstance(),this.styleOption=t,this.title=s||t,this.parentForm=e,this.create(i)}create(t){this.uiElement=L.DomUtil.create("div","leaflet-styleeditor-uiElement",t),this.createTitle(),this.createContent()}createTitle(){L.DomUtil.create("label","leaflet-styleeditor-label",this.uiElement).innerHTML=this.title+":"}createContent(){}show(t){this.style(t),this.showForm()}showForm(){this.util.showElement(this.uiElement)}hide(){this.util.hideElement(this.uiElement)}style(t){}lostFocus(){}setStyle(t,e){let i=L.Layer[e];e instanceof L.LayerGroup&&(i=e.getLayers);for(let e=0;e<i.length;e++){let o=i[e];if(o instanceof L.Marker);else{let e={};e[this.styleOption]=t,o.setStyle(e),o.options[this.styleOption]=t}this.util.fireChangeEvent(o)}this.parentForm.style()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(6);const o=i(2),s=i(15);i(16),L.StyleEditor=o.StyleEditorClass,L.styleEditor=function(t,e){return new o.StyleEditorClass(t,e)},L.Control.StyleEditor=s.StyleEditorControl,L.control.styleEditor=function(t){return new s.StyleEditorControl(t)},e.default=L},function(t,e){t.exports=void 0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(0);e.StyleForm=class{constructor(t,e,i,s,r){this.util=o.Util.getInstance(),this.map=t,this.styleEditorDiv=e,this.styleEditorInterior=i,this.markerForm=this.createMarkerForm(s),this.geometryForm=this.createGeometryForm(r),this.addDOMEvents()}addDOMEvents(){L.DomEvent.addListener(this.map,"click",this.lostFocus,this),L.DomEvent.addListener(this.styleEditorDiv,"click",this.lostFocus,this)}clearForm(){this.markerForm.hide(),this.geometryForm.hide()}createMarkerForm(t){return new t(L.DomUtil.create("div","leaflet-styleeditor-interior-marker",this.styleEditorInterior))}createGeometryForm(t){return new t(L.DomUtil.create("div","leaflet-styleeditor-interior-geometry",this.styleEditorInterior))}showMarkerForm(){this.clearForm(),this.markerForm.show()}showGeometryForm(){this.clearForm(),this.geometryForm.show()}fireChangeEvent(t){this.util.fireChangeEvent(t)}lostFocus(t){let e=t.target;for(let t=0;t<10&&e;t++){if(e.className&&L.DomUtil.hasClass(e,"leaflet-styleeditor-interior"))return;e=e.parentNode}this.markerForm.lostFocus(),this.geometryForm.lostFocus()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultStyleEditorControlOptions={position:"topleft",strings:{title:"Style Editor",cancel:"cancel",cancelTitle:"cancel"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(3);e.DefaultStyleEditorClassOptions={position:"topleft",colorRamp:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"],defaultColor:null,markerType:void 0,markers:null,defaultMarkerIcon:null,defaultMarkerColor:null,markerForm:o.MarkerForm,geometryForm:o.MarkerForm,ignoreLayerTypes:[],forms:{},events:[],openOnLeafletDraw:!0,openOnLeafletEditable:!0,showTooltip:!0,strings:{tooltip:"Click on the element you want to style",hide:"Hide Style Editor"},useGrouping:!0,styleEditorEventPrefix:"styleeditor:"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(0);e.Form=class{constructor(t,e,i){this.initializedElements={},this.util=o.Util.getInstance(),this.formOptionsKey=t,this.parentUiElement=e,this.formElements=i,this.create()}create(){for(let t in this.formElements){const e=this.getFormElementClass(t);void 0!==e&&(this.initializedElements[t]=new e(this,this.parentUiElement))}}hide(){this.hideFormElements(),this.hideForm()}hideFormElements(){for(let t in this.initializedElements)this.initializedElements[t].hide()}hideForm(){this.util.hideElement(this.parentUiElement)}show(t){this.preShow(),this.showFormElements(),this.showForm(),this.style(t)}preShow(){}showFormElements(){for(let t in this.initializedElements)this.showFormElement(this.initializedElements[t])}showForm(){this.util.showElement(this.parentUiElement)}style(t){for(let e in this.initializedElements)this.initializedElements[e].style(t)}lostFocus(){for(let t in this.initializedElements)this.initializedElements[t].lostFocus()}showFormElement(t){this.showFormElementForStyleOption(t.styleOption)?t.show():t.hide()}getFormElementClass(t){if(Object.keys(this.formElements).indexOf(t)>=0){let e=this.formElements[t];if(e){if("boolean"==typeof e)return this.getFormElementStandardClass(t);"formElement"in e&&"boolean"in e&&(e=e.formElement)}return this.getFormElementStandardClass(t)}}showFormElementForStyleOption(t){return!1}getFormElementStandardClass(t){return this.formElements[t]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(3),s=i(12),r={color:s.ColorElement};class l extends o.Form{constructor(t){super("marker",t,r)}}e.MarkerForm=l},function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=o(i(13));e.ColorElement=s.default;const r=i(4);e.FormElement=r.FormElement},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(4);class s extends o.FormElement{constructor(t,e){super("color",t,e,"color")}createContent(){this.colorPickerDiv=L.DomUtil.create("div","leaflet-styleeditor-colorpicker",this.uiElement),this.getColorRamp().forEach(this.setSelectCallback,this)}getColorRamp(){return["#000"]}setSelectCallback(t){let e=L.DomUtil.create("div","leaflet-styleeditor-color",this.colorPickerDiv);e.style.backgroundColor=t,L.DomEvent.addListener(e,"click",this.selectColor,this)}selectColor(t){t.stopPropagation(),this.setStyle(this.util.rgbToHex(t.target.style.backgroundColor)),t.target,L.Marker}}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(1);e.DefaultStyleEditorOptions=Object.assign(Object.assign(Object.assign({},o.DefaultStyleEditorClassOptions),o.DefaultStyleEditorControlOptions),{strings:{title:o.DefaultStyleEditorControlOptions.strings.title,cancel:o.DefaultStyleEditorControlOptions.strings.cancel,cancelTitle:o.DefaultStyleEditorControlOptions.strings.cancelTitle,tooltip:o.DefaultStyleEditorClassOptions.strings.tooltip,hide:o.DefaultStyleEditorClassOptions.strings.hide}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(2),s=i(1);class r extends L.Control{constructor(t,e,i){super(),this.isEnabled=!1,void 0===i?(this.options=Object.assign(Object.assign({},s.DefaultStyleEditorControlOptions),t),this.styleEditor=e):(this.options=Object.assign(Object.assign({},s.DefaultStyleEditorControlOptions),i),this.styleEditorClassOptions=Object.assign(Object.assign({},s.DefaultStyleEditorClassOptions),i))}onAdd(t){return void 0===this.styleEditor&&(this.styleEditor=new o.StyleEditorClass(t,this.styleEditorClassOptions)),this.styleEditor.disable(),this.createUI()}createUI(){const t=L.DomUtil.create("div","leaflet-control-styleeditor leaflet-control leaflet-bar");L.DomUtil.create("a","leaflet-control-styleeditor-interior",t).title=this.options.strings.title;const e=this.cancelUI=L.DomUtil.create("div","leaflet-control-styleeditor-cancel leaflet-styleeditor-hidden",t);return e.innerHTML=this.options.strings.cancel,e.title=this.options.strings.cancelTitle,L.DomEvent.disableScrollPropagation(t),L.DomEvent.disableScrollPropagation(e),L.DomEvent.disableClickPropagation(t),L.DomEvent.disableClickPropagation(e),L.DomEvent.on(t,"click",this.toggle,this),t}toggle(){this.isEnabled?this.disable():this.enable()}enable(){this.isEnabled=!0,this.showCancelButton(),this.styleEditor.enable()}disable(){this.isEnabled&&(this.isEnabled=!1,this.hideCancelButton(),this.styleEditor.disable())}showCancelButton(){L.DomUtil.removeClass(this.cancelUI,"leaflet-styleeditor-hidden")}hideCancelButton(){L.DomUtil.addClass(this.cancelUI,"leaflet-styleeditor-hidden")}}e.StyleEditorControl=r},function(t,e,i){}]);
//# sourceMappingURL=Leaflet.StyleEditor.min.js.map